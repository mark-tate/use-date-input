(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{"69cu":function(e,n,t){"use strict";t.r(n),t.d(n,"_frontmatter",(function(){return O})),t.d(n,"default",(function(){return P}));var a=t("Fcif"),r=t("+I+c"),o=t("mXGw"),l=t("/FXl"),s=t("TjRS"),p=t("ZFoC"),c=t("lOOT"),i=t("EoFh"),d=t.n(i),u=t("GYKu"),b=t("WvoA"),m=t("9b5V"),g=t("xrGn"),h=t("gcqE"),O=(t("aD51"),{});void 0!==O&&O&&O===Object(O)&&Object.isExtensible(O)&&!O.hasOwnProperty("__filemeta")&&Object.defineProperty(O,"__filemeta",{configurable:!0,value:{name:"_frontmatter",filename:"src/docs/hooks/useDateRangeInput.mdx"}});var C=function(e){return function(n){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),Object(l.b)("div",n)}},j=(C("CalendarProvider"),C("Calendar"),{_frontmatter:O}),v=s.a;function P(e){var n,t=e.components,i=Object(r.a)(e,["components"]);return Object(l.b)(v,Object(a.a)({},j,i,{components:t,mdxType:"MDXLayout"}),Object(l.b)("h1",{id:"usedaterangeinput"},"useDateRangeInput"),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"useDateRangeInput")," is a hook which will provide the props required to compose together a ",Object(l.b)("inlineCode",{parentName:"p"},"Calendar")," with a pair of",Object(l.b)("inlineCode",{parentName:"p"},"input")," components of your choice."),Object(l.b)("p",null,"Like with ",Object(l.b)("inlineCode",{parentName:"p"},"useDateInput")," you can use an HTML ",Object(l.b)("inlineCode",{parentName:"p"},"input"),", or an ",Object(l.b)("inlineCode",{parentName:"p"},"Input")," or ",Object(l.b)("inlineCode",{parentName:"p"},"Formfield")," from your favourite UI framework, or even your own component."),Object(l.b)("p",null,"A simple example of use is"),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"const {\n    Calendar,\n    CalendarProvider,\n    getCalendarProviderProps,\n    getStartDateProps,\n    getEndDateProps,\n    getPopperProps,\n} = useDateRangeInput();\n")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"Calendar")," is the calendar component."),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"CalendarProvider")," is the context which wires all the UI components together, you can use it in your own components\nto manage state"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"getCalendarProviderProps")," is a callback which provides the props for ",Object(l.b)("inlineCode",{parentName:"li"},"CalendarProvider")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"getStartDateProps")," is a callback which provides the props for your start date, Input UI Element."),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"getEndDateProps")," is a callback which provides the props for your end date, Input UI Element."),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"getPopperProps")," is an callback which provides the props for any Popper UI Element.  ")),Object(l.b)("p",null,"Popper's are a portal which are only needed if you are open the Calendar from another component.",Object(l.b)("br",{parentName:"p"}),"\n","ie. an Input when clicked display the Calendar in a portal, which overlays the rest of the page.  "),Object(l.b)("p",null,"When your ",Object(l.b)("inlineCode",{parentName:"p"},"input")," components and ",Object(l.b)("inlineCode",{parentName:"p"},"Calendar")," are composed together by ",Object(l.b)("inlineCode",{parentName:"p"},"useDateRangeInput")," it should look like this"),Object(l.b)("h2",{id:"example"},"Example"),Object(l.b)(p.c,{__position:0,__code:"() => {\n  const theme = useTheme()\n  const isSmallBreakpoint = useMediaQuery(theme.breakpoints.down('sm'))\n  const numOfColumns = isSmallBreakpoint ? 2 : 3\n  const numOfVisibleMonths = isSmallBreakpoint ? 2 : 6\n  const [startDate, setStartDate] = useState('')\n  const [endDate, setEndDate] = useState('')\n  const actions = useRef()\n  const handleStateChange = useCallback((changes, state) => {\n    console.log('state changed', changes, state)\n  }, [])\n  const handleStartDateInputChange = useCallback(event => {\n    const { value } = event.target\n    console.log('start date input changed to', value)\n    setStartDate(value)\n  }, [])\n  const handleEndDateInputChange = useCallback(event => {\n    const { value } = event.target\n    action('end date input changed to')(value)\n    setEndDate(value)\n  }, [])\n  const handleCalendarChange = useCallback(value => {\n    console.log('calendar changed selected date', value)\n    const { dateAPI } = actions.current\n    const [rangeStart, rangeEnd] = value\n    setStartDate(rangeStart ? dateAPI.format(rangeStart, 'dd/MM/yyyy') : '')\n    setEndDate(rangeEnd ? dateAPI.format(rangeEnd, 'dd/MM/yyyy') : '')\n  }, [])\n  const {\n    Calendar,\n    CalendarProvider,\n    getCalendarProviderProps,\n    getStartDateProps,\n    getEndDateProps,\n    getPopperProps,\n  } = useDateRangeInput({\n    actions,\n    parse: value => parse(value, 'dd/MM/yyyy', new Date()),\n  })\n  return (\n    <>\n      <input\n        {...getStartDateProps({ onChange: handleStartDateInputChange })}\n        value={startDate}\n      />\n      <input\n        {...getEndDateProps({ onChange: handleEndDateInputChange })}\n        value={endDate}\n      />\n      <CalendarProvider\n        {...getCalendarProviderProps({\n          adapter: dateAdapter,\n          numOfColumns,\n          numOfVisibleMonths,\n          onCalendarChange: handleCalendarChange,\n          onStateChange: handleStateChange,\n        })}\n      >\n        <Popper {...getPopperProps({ placement: 'bottom-start' })}>\n          <div style={{ background: '#1FB6FF', padding: '10px' }}>\n            <Calendar />\n          </div>\n        </Popper>\n      </CalendarProvider>\n    </>\n  )\n}",__scope:(n={props:i,DefaultLayout:s.a,useCallback:o.useCallback,useRef:o.useRef,useState:o.useState,Props:p.d,Playground:p.c,useTheme:c.a,useMediaQuery:d.a,useDateRangeInput:u.v,Popper:b.b,dateAdapter:m.a,parse:g.a,isValid:h.a},n.DefaultLayout=s.a,n._frontmatter=O,n),mdxType:"Playground"},(function(){var e=Object(c.a)(),n=d()(e.breakpoints.down("sm")),t=n?2:3,r=n?2:6,s=Object(o.useState)(""),p=s[0],i=s[1],h=Object(o.useState)(""),O=h[0],C=h[1],j=Object(o.useRef)(),v=Object(o.useCallback)((function(e,n){console.log("state changed",e,n)}),[]),P=Object(o.useCallback)((function(e){var n=e.target.value;console.log("start date input changed to",n),i(n)}),[]),f=Object(o.useCallback)((function(e){var n=e.target.value;action("end date input changed to")(n),C(n)}),[]),y=Object(o.useCallback)((function(e){console.log("calendar changed selected date",e);var n=j.current.dateAPI,t=e[0],a=e[1];i(t?n.format(t,"dd/MM/yyyy"):""),C(a?n.format(a,"dd/MM/yyyy"):"")}),[]),D=Object(u.v)({actions:j,parse:function(e){return Object(g.a)(e,"dd/MM/yyyy",new Date)}}),I=D.Calendar,N=D.CalendarProvider,k=D.getCalendarProviderProps,w=D.getStartDateProps,S=D.getEndDateProps,E=D.getPopperProps;return Object(l.b)(o.Fragment,null,Object(l.b)("input",Object(a.a)({},w({onChange:P}),{value:p})),Object(l.b)("input",Object(a.a)({},S({onChange:f}),{value:O})),Object(l.b)(N,Object(a.a)({},k({adapter:m.a,numOfColumns:t,numOfVisibleMonths:r,onCalendarChange:y,onStateChange:v}),{mdxType:"CalendarProvider"}),Object(l.b)(b.b,Object(a.a)({},E({placement:"bottom-start"}),{mdxType:"Popper"}),Object(l.b)("div",{style:{background:"#1FB6FF",padding:"10px"}},Object(l.b)(I,{mdxType:"Calendar"})))))})),Object(l.b)("h2",{id:"actions"},"Actions"),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"useDateRangeInput")," provides an imperative API for the controlled state, use-case."),Object(l.b)("p",null,"Pass a ref to ",Object(l.b)("inlineCode",{parentName:"p"},"useDateRangeInput")," and it will be assigned an impertive API of state and helpers."),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"const {\n    Calendar,\n    CalendarProvider,\n    getCalendarProviderProps,\n    getInputProps,\n    getPopperProps,\n} = useDateInput({\n    actions\n});\n")),Object(l.b)("p",null,"The imperative API takes the form."),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"actions.current = {\n    createDate, \n    dispatch,\n    mouseClickOutside,\n    navigateNext,\n    navigatePrevious,\n    selectDate,\n    setAnimating,\n    setEnableKeyboardNavigation,\n    setKeyboardCursor,\n    setMouseCursor,\n    setEndDate,\n    setStartDate,\n    setOpen,\n    setKeyPress,\n    setVisibleFromDate\n}\n")))}void 0!==P&&P&&P===Object(P)&&Object.isExtensible(P)&&!P.hasOwnProperty("__filemeta")&&Object.defineProperty(P,"__filemeta",{configurable:!0,value:{name:"MDXContent",filename:"src/docs/hooks/useDateRangeInput.mdx"}}),P.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-docs-hooks-use-date-range-input-mdx-4d83aa891f0f256935ff.js.map